# DetectionFusion GT Rectification Configuration - Conservative Mode
# This configuration uses conservative parameters to identify only high-confidence errors

gt_rectification:
  # Mode configuration
  mode: "minimize_error"  # Conservative approach - only high-confidence errors
  
  # Directory paths
  labels_dir: "labels"
  gt_dir: "labels/GT"
  images_dir: "images"
  output_dir: "rectified_dataset"
  
  # Threshold parameters (conservative - strict thresholds)
  confidence_threshold: 0.7        # Higher confidence required
  iou_threshold: 0.5               # Standard IoU threshold
  min_strategy_agreement: 0.8      # 80% of strategies must agree
  consensus_threshold: 0.85        # High consensus required
  
  # Strategy selection (conservative subset)
  strategies:
    - "weighted_vote"
    - "bayesian"
    - "consensus_ranking"
    - "majority_vote_3"            # Require 3+ models
    - "high_confidence_first"
  
  # Error detection parameters
  error_detection:
    min_confidence_gap: 0.3        # Large gap between ensemble and GT confidence
    min_disagreement_ratio: 0.7    # Strong disagreement required
    require_multiple_strategies: true  # Multiple strategies must agree on error
    
  # Output configuration
  output:
    include_most_correct: 25       # Fewer reference images
    include_most_incorrect: 25     # Fewer flagged images
    create_analysis_files: true
    create_summary_report: true
    copy_images: true
    
  # Analysis parameters
  analysis:
    confidence_bins: 5
    spatial_analysis: false        # Skip complex analysis in conservative mode
    size_analysis: false
    error_categories:
      - "missing_in_gt"
      - "extra_in_gt"
      - "classification_error"

# Evaluation settings for validation
evaluation:
  confidence_threshold: 0.1
  iou_thresholds:
    - 0.5
  metrics:
    - "precision"
    - "recall" 
    - "f1_score"
    - "map_50"

# Visualization settings
visualization:
  generate_plots: false           # Skip plots in conservative mode
  figure_size: [10, 6]
  dpi: 150
  style: "seaborn"